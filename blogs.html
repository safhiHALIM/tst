<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blogs</title>
    
<body>
    <section id="blogs" class="container p-5">
        <h2 class="text-center">Blogs</h2>
        <div id="articlesList" class="row">
            <!-- Les articles seront ajoutÃ©s ici -->
        </div>
    </section>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const articlesList = document.getElementById('articlesList');
        const articles = JSON.parse(localStorage.getItem('articles')) || [];

        console.log('Articles loaded from localStorage:', articles); // Debugging step

        articlesList.innerHTML = ''; // Nettoyez la liste avant de la remplir

        articles.forEach(article => {
            if (article.isValidated) {
                const articleDiv = document.createElement('div');
                articleDiv.classList.add('col-md-6');
                articleDiv.innerHTML = `
                    <div class="card mb-4">
                        ${article.video ? `<div class="embed-responsive embed-responsive-16by9">
                                            <iframe class="embed-responsive-item" src="${article.video}" allowfullscreen></iframe>
                                            </div>` : ''}
                        ${article.image ? `<img src="${article.image}" class="card-img-top" alt="Article Image">` : ''}
                        <div class="card-body">
                            <h5 class="card-title">${article.title}</h5>
                            <p class="card-text">${article.content}</p>
                        </div>
                    </div>
                `;
                articlesList.appendChild(articleDiv);
            }
        });

        console.log('Articles displayed:', articlesList.innerHTML); // Debugging step
    });
    </script>
</body>
</html>
